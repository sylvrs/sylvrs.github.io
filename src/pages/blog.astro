---
import Layout from "../layouts/Layout.astro";
import BlogCard from "../components/BlogCard";
import PageHeader from "../components/PageHeader.astro";
import { getAllPosts } from "../utils/data";
import config from "../data/config";

const posts = await getAllPosts();
---

<Layout title={`Blog | ${config.name}`} description="">
  <main class="container mx-auto px-4 pt-32 pb-12">
    <PageHeader 
      title="Blog"
      description="The inner machinations of my mind and code, laid bare for your reading pleasure."
      count={posts.length}
      countLabel="articles"
    />
    <BlogCard client:load posts={posts} />
  </main>
</Layout>
